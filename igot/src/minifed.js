(function() {
                    var gra={_WIDTH:640,_HEIGHT:480},magnesMinChance=1,magnesMaxChance=5,bg,bg2,player,enemy,whiteSplash,universeSpeed=5,enemySpeed=1,score=0,cash=0,parsecDistanceLabel,tapToStart,coin,g=300,kaboom,distanceParsecOld=0,distanceParsecNew=0,downX,upX,sound,soundBuffor=0,music,coinSound,splashImage1,tween,menuTurnedOn=!0,checkIfEnemyCreated=!1,checkIfScreenWasTouchedInMenu=!1,isGameOverScreenOn=!1,distanceLabelGameOverScreen,zwrotnosc=600;gra.Boot=function(){},gra.Boot.prototype={create:function(){this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.state.start('Preload')}};gra.Game=function(){},gra.Game.prototype={create:function(){this.physics.startSystem(Phaser.Physics.ARCADE),this.physics.arcade.gravity.y=g,bg=this.add.tileSprite(0,0,640,480,'bg'),smallCoinIcon=this.add.sprite(60,76,'smallCoin'),smallCoinIcon.anchor.setTo(0.5),smallCoinIcon.scale.setTo(0.08),this.createNewPlayer(),tapToStart=this.add.sprite(this.world.width/2,7*(this.world.height/10),'tapToStart'),tapToStart.anchor.setTo(0.5),parsecDistanceLabel=this.add.text(440,80),parsecDistanceLabel.text='Distance in ft: 0',parsecDistanceLabel.anchor.setTo(0.5),parsecDistanceLabel.font='Press Start 2P',parsecDistanceLabel.fontSize=20,parsecDistanceLabel.fill='#FFFFFF',coinAmountLabel=this.add.text(120,80),coinAmountLabel.text=cash,coinAmountLabel.anchor.setTo(0.5),coinAmountLabel.font='Press Start 2P',coinAmountLabel.fontSize=20,coinAmountLabel.fill='#FFFFFF',coinSound=this.add.audio('coinSound'),coinSound.stop(),coins=this.add.group(),this.time.events.loop(300,this.startSpawning,this),emitter=this.add.emitter(0,0,10),emitter.makeParticles('heartEyeEmoji'),emitter.gravity=2e3,emitter.minParticleScale=1,emitter.maxParticleScale=4,emitter.bounce.setTo(0.5,0.5),whiteEmitter=this.add.emitter(100,0,100),whiteEmitter.makeParticles('whiteParticle'),whiteEmitter.minParticleScale=1,whiteEmitter.maxParticleScale=4,whiteEmitter.gravity=100,redEmitter=this.add.emitter(0,0,100),redEmitter.makeParticles('redParticle'),redEmitter.gravity=1e3,redEmitter.minParticleScale=1,redEmitter.maxParticleScale=4,blackEmitter=this.add.emitter(0,0,100),blackEmitter.makeParticles('blackParticle'),blackEmitter.gravity=300,blueEmitter=this.add.emitter(0,0,100),blueEmitter.makeParticles('blueParticle'),distanceLabelGameOverScreen=this.add.text(this.world.width/2,this.world.height/2),distanceLabelGameOverScreen.text='GameOver',distanceLabelGameOverScreen.anchor.setTo(0.5),distanceLabelGameOverScreen.font='Press Start 2P',distanceLabelGameOverScreen.fontSize=30,distanceLabelGameOverScreen.fill='#000000',distanceLabelGameOverScreen.alpha=0},update:function(){this.physics.arcade.collide(enemy,player,this.collisionHandler,null,this),this.physics.arcade.collide(player,coins,this.coinCollisionHandler),bg.tilePosition.x-=2,(!0==menuTurnedOn&&!0===this.game.input.pointer1.isDown&&this.game.input.pointer1.y>this.world.height/2&&this.game.input.pointer1.y<3*(this.world.height/4)||!0===this.input.activePointer.leftButton.isDown)&&(menuTurnedOn=!1),!1==menuTurnedOn&&!1==isGameOverScreenOn?(tapToStart.visible=!1,parsecDistanceLabel.visible=!0,coinAmountLabel.visible=!0,smallCoinIcon.visible=!0,this.playerMove(player),this.distanceTraveled(),this.createEnemy(),this.enemiesMove(enemy),this.destroyCoins(),this.coinLabelTextFun(cash)):(tapToStart.visible=!0,parsecDistanceLabel.visible=!1,coinAmountLabel.visible=!1,smallCoinIcon.visible=!1)},render:function(){},enemiesMove:function(a){a.y+=enemySpeed,a.y>=this.world.height&&(this.enemyPositions(a),score+=1)},enemyPositions:function(a){a.body.velocity.y=g,a.y=0-a.height/2,a.x=this.rnd.integerInRange(0+a.width/2,this.world.width-a.width/2);let b=this.rnd.integerInRange(0,640);9<=score&&(g+=10),a.x=a.x<=this.world.width/2?b:b},playerMove:function(a){this.input.keyboard.isDown(Phaser.Keyboard.LEFT)?(a.scale.x=-.3,player.animations.play('flying',8,!0),a.x-=10):this.input.keyboard.isDown(Phaser.Keyboard.RIGHT)&&(a.scale.x=.3,player.animations.play('flying',8,!0),a.x+=10),this.input.pointer1.isDown?this.input.pointer1.x>this.world.width/2?(a.scale.x=.3,player.animations.play('flying',8,!0),a.x+=10):(a.scale.x=-.3,player.animations.play('flying',8,!0),a.x-=10):a.body.velocity.setTo(0,0)},distanceTraveled:function(){distanceParsecNew+=1;var a=this.add.tween(this);a.to({distanceParsecOld:distanceParsecNew},1e3,Phaser.Easing.Linear.None,!0,500),a.onUpdateCallback(function(){parsecDistanceLabel.setText('Distance in ft: '+Math.floor(distanceParsecNew))},this),distanceParsecOld=distanceParsecNew},coinLabelTextFun:function(a){coinAmountLabel.text=a},collisionHandler:function(){whiteEmitter.x=player.x,whiteEmitter.y=player.y,redEmitter.x=player.x,redEmitter.y=player.y,this.camera.shake(0.025,100),whiteEmitter.start(!0,400,null,30),redEmitter.start(!0,400,null,10),player.destroy(),this.destroyEnemy(enemy),menuTurnedOn=!0,this.gameOverScreen()},createEnemy:function(){!1==checkIfEnemyCreated&&(cash=0,enemy=this.add.sprite(0,-400,'enemy'),this.physics.arcade.enable(enemy),enemy.enableBody=!0,enemy.body.immovable=!0,enemy.scale.setTo(0.1),checkIfEnemyCreated=!0)},destroyEnemy:function(a){!0==menuTurnedOn&&!0==checkIfEnemyCreated&&(a.destroy(),checkIfEnemyCreated=!1)},spawnCoin:function(){if(!1==menuTurnedOn){let a=this.rnd.integerInRange(0,1),b=this.rnd.integerInRange(0,480),c=this.rnd.integerInRange(0,2);0===c?coin=this.add.sprite(b,-100,'coin',0):1===c?coin=this.add.sprite(b,-100,'coin2',0):2===c&&(coin=this.add.sprite(b,-100,'coin3',0)),this.physics.arcade.enable(coin),coin.enableBody=!0,coin.scale.setTo(0.2),coin.anchor.setTo(0.5),rotating=coin.animations.add('rotating'),coin.animations.play('rotating',10,!0),coin.body.gravity.y=universeSpeed,coins.add(coin)}},startSpawning:function(){this.rnd.integerInRange(1,100);this.spawnCoin(this)},destroyCoins:function(){coins.forEach(function(a){a.y>=this.world.height&&a.destroy()},this)},coinCollisionHandler:function(a,b){coinSound.play('',0,1,!1),emitter.x=b.x,emitter.y=b.y,b.destroy(),emitter.start(!0,400,null,30);cash+=1},gameOverScreen:function(){isGameOverScreenOn=!0,whiteSplash=this.add.sprite(this.world.width/2,this.world.height/2,'whiteSplash'),whiteSplash.anchor.setTo(0.5),whiteSplash.alpha=0;var a=this.add.tween(whiteSplash).to({alpha:1},2e3,Phaser.Easing.Linear.None,!0,0);a.onComplete.addOnce(function(){this.highScoreFunc()},this)},resetFun:function(){distanceParsecOld=0,distanceParsecNew=0,cash=0,g=300},highScoreFunc:function(){if(null===localStorage.getItem('highscore')?localStorage.setItem('highscore',distanceParsecNew):distanceParsecNew>localStorage.getItem('highscore')&&localStorage.setItem('highscore',distanceParsecNew),null===localStorage.getItem('money'))localStorage.setItem('money',cash);else if(null!=localStorage.getItem('money')){var a=cash+localStorage.getItem('money');localStorage.setItem('money',a)}distanceEndGameLabel=this.add.text(this.world.width/2,this.world.height/2),distanceEndGameLabel.anchor.setTo(0.5),distanceEndGameLabel.font='Press Start 2P',distanceEndGameLabel.fontSize=30,distanceEndGameLabel.fill='#000000',coinAmountGameOverScreenLabel=this.add.text(this.world.width/2,this.world.height/2+100),coinAmountGameOverScreenLabel.anchor.setTo(0.5),coinAmountGameOverScreenLabel.font='Press Start 2P',coinAmountGameOverScreenLabel.fontSize=20,coinAmountGameOverScreenLabel.fill='#000000';var c=this.add.tween(this);c.to({x:distanceParsecNew},2e3,Phaser.Easing.Linear.None,!0,500),c.onUpdateCallback(function(){distanceEndGameLabel.setText('You ran: '+Math.floor(this.x)+' ft')},this),c.onComplete.addOnce(function(){blackEmitter.x=distanceEndGameLabel.x,blackEmitter.y=distanceEndGameLabel.y,this.camera.shake(0.025,200),blackEmitter.start(!0,400,null,15);var d=this.add.sprite(this.world.width/2-200,this.world.height/2+100,'coin');d.scale.setTo(0.3),d.anchor.setTo(0.5);var f=this.add.tween(this);f.to({coin_amount:cash},2e3,Phaser.Easing.Linear.None,!0,500),f.onUpdateCallback(function(){coinAmountGameOverScreenLabel.setText('You got '+Math.round(this.coin_amount)+' hoes')},this),f.onComplete.addOnce(function(){Math.round(10<=this.coin_amount)&&window.location.replace('http://www.youtube.com/watch?v=LKu-iY6xEik');var h=this.add.text(this.world.width/2,this.world.height/2+300);h.anchor.setTo(0.5),h.text='Do you want to play again?',h.font='Press Start 2P',h.fontSize=45,h.fill='#000000',h.destroy(),d.destroy(),coinAmountGameOverScreenLabel.destroy(),distanceEndGameLabel.destroy(),this.add.tween(whiteSplash).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0,0),this.createNewPlayer(),this.resetFun(),isGameOverScreenOn=!1},this)},this)},createNewPlayer:function(){player=this.add.sprite(160,310,'player'),this.physics.arcade.enable(player),player.enableBody=!0,player.body.gravity.y=-this.physics.arcade.gravity.y,player.body.immovable=!0,player.scale.setTo(0.3),player.body.collideWorldBounds=!0,player.anchor.setTo(0.5,0),flying=player.animations.add('flying')}},gra.Preload=function(){},gra.Preload.prototype={preload:function(){this.load.image('enemy','img/stone.png'),this.load.image('bg','img/bg.png'),this.load.image('bg2','img/bg.png'),this.load.image('splash1','img/splash2.png'),this.load.image('soundOn','img/soundOn.png'),this.load.image('soundOff','img/soundOff.png'),this.load.image('tapToStart','img/tapToStartTheGame.png'),this.load.image('smallCoin','img/star.png'),this.load.image('whiteSplash','img/whiteSplash.png'),this.load.image('heartEyeEmoji','img/goldParticle.png'),this.load.image('whiteParticle','img/whiteParticle.png'),this.load.image('redParticle','img/redParticle.png'),this.load.image('blueParticle','img/blueParticle.png'),this.load.image('blackParticle','img/blackParticle.png'),this.load.image('girl1','img/star.png'),this.load.image('magnes','img/magnes.png'),this.load.image('coin','img/star.png'),this.load.image('coin2','img/girl2.png'),this.load.image('coin3','img/girl3.png'),this.load.spritesheet('player','img/danwalking.png',225,420,3),this.load.audio('musicUniverse','assets/sound.mp3'),this.load.audio('coinSound','assets/coinSound.mp3')},create:function(){this.state.start('SplashScene')}};gra.SplashScene=function(){},gra.SplashScene.prototype={create:function(){this.stage.backgroundColor='#f94d9e',splashImage1=this.add.sprite(this.world.width/2,this.world.height/2,'splash1'),splashImage1.anchor.setTo(0.5),splashImage1.scale.setTo(0.7),splashImage1.alpha=0,tween=this.add.tween(splashImage1).to({alpha:1},2e3,Phaser.Easing.Linear.None,!0,0,1e3,!0),this.time.events.add(4*Phaser.Timer.SECOND,this.stopStart,this)},update:function(){},stopStart:function(){tween.stop(),this.startGame()},startGame:function(){this.state.start('Game')}};
                    var game = new Phaser.Game(640, 480, Phaser.CANVAS, 'game');
                    game.state.add('Boot', gra.Boot);
                    game.state.add('Preload', gra.Preload);
                    game.state.add('SplashScene', gra.SplashScene);
                    game.state.add('Game',gra.Game);
                    game.state.start('Boot');
                })();